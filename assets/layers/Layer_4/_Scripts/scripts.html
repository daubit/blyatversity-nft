<script type="application/javascript">
	const h = document.getElementById("dtext1");
	fetch("https://api.ipify.org?format=json")
		.then((x) => x.json())
		.then((x) => fetch("https://api.geoiplookup.net/?query=".concat(x.ip).concat("&json=true")))
		.then((x) => x.json())
		.then((x) => {
			h.style.fontSize = `${x.city.lenth * -0.666 + 29.67}px`;
			const tn = document.createTextNode(x.city);
			h.appendChild(tn);
		})
		.catch((e) => {
			console.log(e);
			const tn = document.createTextNode("Cryptospacefleet");
			h.appendChild(tn);
		});
</script>
<script type="application/javascript">
	const d = [
		[31786, -5.005403577174987e-9, 0.0001414977537231597, 0],
		[31585, -4.745436464716093e-9, 0.00013777425688010233, -8.881784197001252e-16],
		[31229, -4.429371779509659e-9, 0.00013310705134604478, 5.921189464667501e-16],
		[30735, -4.088931274387028e-9, 0.00012788950346900307, -5.921189464667501e-16],
		[30121, -3.749050215618376e-9, 0.0001224589762429586, 2.9605947323337506e-16],
		[29407, -3.4260638601293147e-9, 0.00011706517603675857, -5.921189464667501e-16],
		[28613, -3.128162178498307e-9, 0.00011185995134092096, 5.921189464667501e-16],
		[27755, -2.8587583905166287e-9, 0.00010693471635566502, -2.9605947323337506e-16],
		[26847, -2.61761897698789e-9, 0.0001023253434294336, 1.1842378929335002e-15],
		[25902, -2.403275362948968e-9, 0.00009804642498222904, 2.9605947323337506e-16],
		[24934, -2.212970499485012e-9, 0.00009408444078560528, -8.881784197001252e-16],
		[23953, -2.043944140878881e-9, 0.00009042000090419995, 0],
		[26570, -1.8939807028063892e-9, 0.00008703977717817043, 0],
		[25593, -1.760748158866317e-9, 0.00008392253949604526, -2.9605947323337506e-16],
		[24635, -1.6424254929072903e-9, 0.00008105369807497478, -5.921189464667501e-16],
		[23707, -1.5373876944438771e-9, 0.00007841907151819329, -2.9605947323337506e-16],
		[22820, -1.4445257595279951e-9, 0.00007601383451788216, 5.921189464667501e-16],
		[21989, -1.3631458325104766e-9, 0.00007384160974709251, 2.9605947323337506e-16],
		[21229, -1.2925801590378431e-9, 0.00007190494166711617, -2.9605947323337506e-16],
		[20556, -1.2325748243198238e-9, 0.00007021609001702741, -2.9605947323337506e-16],
		[19989, -1.1830561716705923e-9, 0.00006879116721412993, -1.1842378929335002e-15],
		[19544, -1.1442027658472474e-9, 0.00006765213273348436, 2.9605947323337506e-16],
		[19239, -1.1161280368788812e-9, 0.00006681700492775422, -2.9605947323337506e-16],
		[19084, -1.0990982937422525e-9, 0.00006630530276658887, -5.921189464667501e-16],
		[19087, -1.0932551735764742e-9, 0.00006612881893929377, 0],
		[19243, -1.098661167902681e-9, 0.00006629211621007986, -2.9605947323337506e-16],
		[19540, -1.1151964163386192e-9, 0.00006678911337451991, 0],
		[19959, -1.1426561803235019e-9, 0.0000676063955650203, 8.881784197001252e-16],
		[20477, -1.1807807125412295e-9, 0.00006872497981203718, 0],
		[21067, -1.2293357254534698e-9, 0.00007012376845131683, -1.1842378929335002e-15],
		[21708, -1.2880841911509288e-9, 0.00007177977963607666, -8.881784197001252e-16],
		[22379, -1.3570764345763325e-9, 0.00007367703670958368, -5.921189464667501e-16],
		[23068, -1.4365977571916967e-9, 0.00007580495385373426, 2.9605947323337506e-16],
		[23763, -1.5270716980014135e-9, 0.00007815552950371235, 2.9605947323337506e-16],
		[24459, -1.6292592802285801e-9, 0.00008072816807604591, 2.9605947323337506e-16],
		[25153, -1.7440957236473383e-9, 0.00008352474420547103, -5.921189464667501e-16],
		[25848, -1.8731357724515334e-9, 0.00008655947718075782, 0],
		[26545, -2.018132517039096e-9, 0.00008984725965858055, -5.921189464667501e-16],
		[27247, -2.181048123122889e-9, 0.00009340338587273771, 8.881784197001252e-16],
		[27958, -2.3642877773632236e-9, 0.00009724788485850412, 5.921189464667501e-16],
		[28682, -2.570455041692579e-9, 0.00010139931048468886, -2.9605947323337506e-16],
		[29422, -2.8024384577508623e-9, 0.00010587612493382758, -5.921189464667501e-16],
		[30176, -3.0617063375465e-9, 0.00011066537557061824, 2.9605947323337506e-16],
		[27339, -3.348979766803841e-9, 0.00011574074074074075, 0],
		[28105, -3.6626541377975785e-9, 0.00012103973129179659, -2.9605947323337506e-16],
		[28861, -3.995898925019377e-9, 0.00012642624608868807, 0],
		[29586, -4.335382478958155e-9, 0.00013168724279835395, 0],
		[30255, -4.659025703776096e-9, 0.0001365141121463434, -8.881784197001252e-16],
		[30839, -4.9374037861239405e-9, 0.00014053332396444571, -1.4802973661668755e-15],
		[31310, -5.13683880416834e-9, 0.00014334348683031753, -8.881784197001252e-16],
		[31639, -5.227485506129931e-9, 0.00014460270407056614, 0],
		[31806, -5.194383572761962e-9, 0.00014414414414414445, -5.921189464667501e-16],
		[31833, -5.1261786052179485e-9, 0.00014319467315815817, 8.881784197001252e-16],
	];
	// https://stackoverflow.com/a/6117889
	Date.prototype.getWeekNumber = function () {
		var d = new Date(Date.UTC(this.getFullYear(), this.getMonth(), this.getDate()));
		var dayNum = d.getUTCDay() || 7;
		d.setUTCDate(d.getUTCDate() + 4 - dayNum);
		var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
		return Math.ceil(((d - yearStart) / 86400000 + 1) / 7);
	};
	const date = new Date();
	const data = d[date.getWeekNumber()];
	const x = date.getHours() * 60 * 60 + date.getMinutes() * 60 + date.getSeconds() - data[0];
	const sonne = document.getElementById("SonneC");
	const wolken = document.getElementById("Clouds");
	const bg = document.getElementById("BGrect");
	const y = Math.pow(x, 2) * data[1] + x * data[2] + data[3];
	sonne.style.opacity = y * 4;
	wolken.style.filter = "brightness(".concat(((0.8 + y * 0.4) * 100).toFixed(0)).concat("%)");
	bg.style.filter = "brightness(".concat(((0.8 + y * 0.4) * 100).toFixed(0)).concat("%)");
</script>
